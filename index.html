<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>計算機</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
	</head>
	<body>
		<div class="mx-auto p-2" style="width: 230px;">
			<div class="mb-3">
				<h3>計算機</h3>
				<p><small>簡単な四則演算ができます。</small></p>
				<input type="text" class="form-control" id="exampleFormControlInput1" readonly disabled/>
				<script>
					function update(u_val) // input tag を更新する関数
					{
						document.querySelector( 'input' ).value = u_val
					}
				
					function append(a_val) // 数字ボタンが押されたら後ろに追加
					{
						document.querySelector( 'input' ).value += a_val
					}
					function calc() // =が押されたら計算する
					{
						const val = document.querySelector( 'input' ).value
						try {
							const f = new Function( 'return ' + val )
							update( f().toString() )
						} catch( _error ) {
							update( '正しく入力してください。' ) // 警告を表示する。
						}
					}
				</script>
			</div>
			<!----ここでボタンのスタイルの上書き-->
			<style>
				button {
					width: 50px;
					height:50px;
				}
			</style>
			<!---->
			<div class="sp-btw">
				<button type="button" class="btn btn-light" onclick="append('1')">1</button>
				<button type="button" class="btn btn-light" onclick="append('2')">2</button>
				<button type="button" class="btn btn-light" onclick="append('3')">3</button>
				<button type="button" class="btn btn-secondary" onclick="append('/')">/</button>
			</div>
			<div class="sp-btw">
				<button type="button" class="btn btn-light" onclick="append('4')">4</button>
				<button type="button" class="btn btn-light" onclick="append('5')">5</button>
				<button type="button" class="btn btn-light" onclick="append('6')">6</button>
				<button type="button" class="btn btn-secondary" onclick="append('*')">*</button>
			</div>
			<div class="sp-btw">
				<button type="button" class="btn btn-light" onclick="append('7')">7</button>
				<button type="button" class="btn btn-light" onclick="append('8')">8</button>
				<button type="button" class="btn btn-light" onclick="append('9')">9</button>
				<button type="button" class="btn btn-secondary" onclick="append('-')">-</button>
			</div>
			<div class="sp-btw">
				<button type="button" class="btn btn-secondary" onclick="update('')">AC</button>
				<button type="button" class="btn btn-light" onclick="append('0')">0</button>
				<button type="button" class="btn btn-primary" onclick="calc()">=</button>
				<button type="button" class="btn btn-secondary" onclick="append('+')">+</button>
			</div>
		</div>
	</body>
</html>